webpackJsonp([0],{"+0hf":function(t,e){},"/3XS":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n("B91n"),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t){function e(t,n,a,i){r(this,e);var s=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,0));return s.x1=t,s.x2=t+a,s.y1=n,s.y2=n+i,s}return a(e,t),s(e,[{key:"center",get:function(){return{x:Math.floor((this.x1+this.x2)/2),y:Math.floor((this.y1+this.y2)/2)}}}]),s(e,[{key:"intersects",value:function(t){return this.x1<=t.x2&&this.x2>=t.x1&&this.y1<=t.y2&&this.y2>=t.y1}}]),e}(i.a);e.a=c},"2BSB":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n("B91n"),s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,6))}return a(e,t),e}(i.a);e.a=s},"2HYv":function(t,e){},"2UlX":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n("B91n"),s=function(t){function e(){r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,3));return t.amount=20,t}return a(e,t),e}(i.a);e.a=s},"2h37":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map"},t._l(t.mapArr,function(e,r){return n("ul",{key:r,staticClass:"row"},t._l(e,function(e,r){return n("li",{key:r,staticClass:"item",class:t.getClass(e)})}))}))},o=[],a={render:r,staticRenderFns:o};e.a=a},"6YjZ":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n("B91n"),s=function(t){function e(t,n,a){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,5));return i.attack=t,i.health=n,i.xp=a,i}return a(e,t),e}(i.a);e.a=s},B91n:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,t),this.id=e,this.x=n,this.y=o};e.a=o},BfQQ:function(t,e){},CuIE:function(t,e,n){"use strict";var r=n("NYxO"),o=n("oiih");e.a={props:{sight:{type:Number,required:!0}},computed:n.i(r.c)(["mapArr"]),methods:{getClass:function(t){var e=o.d[t.id],n=this.$store.state.player.x-t.x,r=this.$store.state.player.y-t.y;return(Math.abs(n)>this.sight||Math.abs(r)>this.sight)&&this.$store.state.darkness?e+=" dark":Math.sqrt(Math.pow(n,2)+Math.pow(r,2))>=this.sight&&this.$store.state.darkness&&(e+=" dark"),e}}}},JsAz:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticClass:"title"},[t._v("Find an kill the boss in Dungeon 3")]),t._v(" "),n("div",{staticClass:"player-status"},[n("div",{staticClass:"player-status__item"},[t._v("\n      Health: "+t._s(t.$store.state.player.health)+"\n      "),n("div",{staticClass:"player-status__item__events"},[n("transition-group",{attrs:{name:"event"}},t._l(t.$store.state.healthHistory,function(e,r){return n("div",{key:r,staticClass:"player-status__item__events__event",style:{color:e>=0?"darkolivegreen":"firebrick"}},[t._v("\n          "+t._s(e)+"\n        ")])}))],1)]),t._v(" "),n("div",{staticClass:"player-status__item"},[t._v("\n      Weapon: "+t._s(t.$store.state.player.weapon.name)+" - "+t._s(t.$store.state.player.weapon.attack)+" Att.\n      "),n("div",{staticClass:"player-status__item__events"},[n("transition-group",{attrs:{name:"event"}},t._l(t.$store.state.attackHistory,function(e,r){return n("div",{key:r,staticClass:"player-status__item__events__event",staticStyle:{color:"darkolivegreen"}},[t._v("\n          Dealt "+t._s(e)+" damage\n        ")])}))],1)]),t._v(" "),n("div",{staticClass:"player-status__item"},[t._v("Xp: "+t._s(t.$store.state.player.xp))]),t._v(" "),n("div",{staticClass:"player-status__item"},[t._v("Level: "+t._s(t.$store.state.player.level))]),t._v(" "),n("div",{staticClass:"player-status__item"},[t._v("Dungeon: "+t._s(t.$store.state.dungeon))]),t._v(" "),n("button",{staticClass:"button",on:{click:function(e){t.toggleDarkness()}}},[t._v("Toggle Darkness")])])])},o=[],a={render:r,staticRenderFns:o};e.a=a},KjvJ:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n("6YjZ"),s=function(t){function e(){r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,25,60,99));return t.boss=!0,t.x2=0,t.y2=0,t}return a(e,t),e}(i.a);e.a=s},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),o=n("Of6H"),a=n("ffxQ"),i=n("szlg"),s=n("wtEF");r.a.component("rogue-map",a.a),r.a.component("rogue-player",i.a),this.$bus=new r.a,new r.a({el:"#app",store:s.a,render:function(t){return t(o.a)}})},Of6H:function(t,e,n){"use strict";function r(t){n("+0hf")}var o=n("T1UM"),a=n("WIWu"),i=n("VU/8"),s=r,c=i(o.a,a.a,s,null,null);e.a=c.exports},T1UM:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=n("NYxO"),a=n("zD9L"),i=n("oiih"),s=n("yWX+"),c=n("2UlX"),u=n("6YjZ"),l=n("2BSB"),f=n("KjvJ"),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.a={name:"game",created:function(){var t=this;this.init(),this.$store.watch(function(t){return t.dungeon},function(e){return t.init()}),window.addEventListener("keydown",this.onKeyPress)},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyPress)},methods:p({},n.i(o.a)(["moveRight","moveLeft","moveTop","moveBottom","tryAgain"]),{init:function(){var t=this,e=new a.a(50);if(0===this.$store.state.dungeon){var n=new s.a;this.$store.commit("SET_PLAYER",n)}e.placeObject(this.$store.state.player),Array.apply(void 0,r(Array(5))).map(function(t){return new c.a}).forEach(function(t){return e.placeObject(t)});var o=function(){return Math.floor(Math.random()*(8*t.$store.state.dungeon+10)+5+3*t.$store.state.dungeon)};Array.apply(void 0,r(Array(8))).map(function(t){return new u.a(o(),o(),o())}).forEach(function(t){return e.placeObject(t)}),e.placeObject(i.a[this.$store.state.dungeon+1]),this.$store.state.dungeon<3?e.placeObject(new l.a):e.placeBoss(new f.a),this.$store.commit("SET_MAP",e)},onKeyPress:function(t){if(!this.$store.state.lost)switch(t.keyCode){case 39:this.moveRight();break;case 37:this.moveLeft();break;case 38:this.moveTop();break;case 40:this.moveBottom()}},again:function(){this.tryAgain(),this.init()}})}},WIWu:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game",style:{"background-color":t.$store.state.darkness?"#333":"#777"}},[n("rogue-player"),t._v(" "),n("div",{staticClass:"map-container"},[n("rogue-map",{attrs:{sight:7}})],1),t._v(" "),t.$store.state.lost||t.$store.state.won?n("div",{staticClass:"modal"},[n("div",{staticClass:"modal__content"},[t.$store.state.lost?n("h1",[t._v("Game Over!")]):t._e(),t._v(" "),t.$store.state.won?n("h1",[t._v("Game Won!")]):t._e(),t._v(" "),n("button",{staticClass:"button",on:{click:function(e){t.again()}}},[t._v("Try again")])])]):t._e()],1)},o=[],a={render:r,staticRenderFns:o};e.a=a},dhjq:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n("B91n"),s=function(t){function e(t,n){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,4));return a.name=t,a.attack=n,a}return a(e,t),e}(i.a);e.a=s},ePkF:function(t,e,n){"use strict";e.a={methods:{toggleDarkness:function(){this.$store.commit("SET_DARKNESS",!this.$store.state.darkness)}}}},ffxQ:function(t,e,n){"use strict";function r(t){n("2HYv")}var o=n("CuIE"),a=n("2h37"),i=n("VU/8"),s=r,c=i(o.a,a.a,s,null,null);e.a=c.exports},oiih:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return s});var r=n("dhjq"),o=[0,50,110,180,250,999999],a=[new r.a("Stick",7),new r.a("Speer",12),new r.a("Sword",18),new r.a("Katana",24),new r.a("Morning star",30)],i={EMPTY:0,WALL:1,PLAYER:2,HEALTH:3,WEAPON:4,ENEMY:5,PORTAL:6},s=["empty","wall","player","health","weapon","enemy","portal"]},szlg:function(t,e,n){"use strict";function r(t){n("BfQQ")}var o=n("ePkF"),a=n("JsAz"),i=n("VU/8"),s=r,c=i(o.a,a.a,s,null,null);e.a=c.exports},wtEF:function(t,e,n){"use strict";var r=n("7+uW"),o=n("NYxO"),a=n("yWX+"),i=n("B91n"),s=n("oiih"),c=function(){function t(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.a.use(o.b);var u={player:new a.a(0,0),map:[],darkness:!0,lost:!1,won:!1,dungeon:0,attackHistory:[],healthHistory:[]},l={SET_DARKNESS:function(t,e){t.darkness=e},SET_PLAYER:function(t,e){t.player=e},SET_DUNGEON:function(t,e){t.dungeon=e},SET_WON:function(t,e){t.won=e},SET_LOST:function(t,e){t.lost=e},MOVE_PLAYER:function(t,e){var n=c(e,2),r=n[0],o=n[1],a=t.map.map[t.player.x+r][t.player.y+o];switch(a.id){case s.c.WALL:return;case s.c.HEALTH:t.healthHistory.push(a.amount),t.player.health+=a.amount;break;case s.c.WEAPON:t.player.weapon=a;break;case s.c.ENEMY:var u=Math.floor(Math.random()*t.player.weapon.attack+10*t.player.level+5),l=a.attack;if(t.attackHistory.push(u),t.healthHistory.push(-l),a.health-=u,t.player.health-=l,t.player.health<=0&&(t.lost=!0),a.health>0)return;if(a.boss)return void(t.won=!0);t.player.xp+=a.xp;break;case s.c.PORTAL:t.dungeon++}t.map.map[t.player.x][t.player.y]=new i.a(s.c.EMPTY,t.player.x,t.player.y),t.player.x+=r,t.player.y+=o,t.map.map[t.player.x][t.player.y]=t.player},SET_MAP:function(t,e){t.map=e}},f={mapArr:function(t){return t.map.map},playerReference:function(t){return t.map.map[t.player.x][t.player.y]}},p={moveRight:function(t){(0,t.commit)("MOVE_PLAYER",[1,0])},moveLeft:function(t){(0,t.commit)("MOVE_PLAYER",[-1,0])},moveBottom:function(t){(0,t.commit)("MOVE_PLAYER",[0,1])},moveTop:function(t){(0,t.commit)("MOVE_PLAYER",[0,-1])},tryAgain:function(t){var e=t.commit;e("SET_WON",!1),e("SET_LOST",!1),e("SET_DUNGEON",0)}};e.a=new o.b.Store({actions:p,getters:f,state:u,mutations:l})},"yWX+":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n("B91n"),s=n("oiih"),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){function e(){r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,2));return t.health=100,t.weapon=s.a[0],t.xp=0,t._level=0,t}return a(e,t),c(e,[{key:"level",get:function(){var t=s.b[this._level+1];return this.xp>t&&this._level++,this._level},set:function(t){this._level=t}}]),e}(i.a);e.a=u},zD9L:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=n("oiih"),i=n("/3XS"),s=n("B91n"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(){function t(e){o(this,t),this.generateMap(e)}return u(t,[{key:"randomInt",value:function(t,e){return Math.floor(Math.random()*(e-t))+t}},{key:"generateHCorridor",value:function(t,e,n){for(var r=Math.min(t,e);r<Math.max(t,e)+1;r++)this.map[r][n]=new s.a(a.c.EMPTY,r,n)}},{key:"generateVCorridor",value:function(t,e,n){for(var r=Math.min(t,e);r<Math.max(t,e)+1;r++)this.map[n][r]=new s.a(a.c.EMPTY,n,r)}},{key:"generateMap",value:function(t){var e=this;this.map=Array.apply(void 0,r(Array(t))).map(function(e,n){return Array(t).fill().map(function(t,e){return new s.a(a.c.WALL,n,e)})});for(var n=[];n.length<10;)!function(){var r=e.randomInt(15,5),o=e.randomInt(15,5),a=e.randomInt(t-r-1,1),s=e.randomInt(t-o-1,1),c=new i.a(a,s,r,o);if(!n.some(function(t){return c.intersects(t)})&&(n.push(c),e.placeBigObject(c,!1),n.length>1)){var u=n[n.indexOf(c)-1].center;Math.random()>.5?(e.generateHCorridor(u.x,c.center.x,c.center.y),e.generateVCorridor(u.y,c.center.y,u.x)):(e.generateVCorridor(u.y,c.center.y,u.x),e.generateHCorridor(u.x,c.center.x,c.center.y))}}()}},{key:"placeObject",value:function(t){for(var e=!1;!e;){var n=this.randomInt(this.map.length-1,1),r=this.randomInt(this.map.length-1,1);if(this.map[n][r].id===a.c.EMPTY)return t.x=n,t.y=r,this.map[n][r]=t,e=!0,t}}},{key:"placeBoss",value:function(t){for(var e=this,n=!1;!n;){var r=this.randomInt(this.map.length-2-1,1),o=this.randomInt(this.map.length-2-1,1),i=r+1,s=o+1,u=[[r,o],[i,o],[r,s],[i,s]];console.log(u),u.every(function(t){return e.map[t[0]][t[1]].id===a.c.EMPTY})&&(t=c({},t,{x1:r,y1:o,x2:i,y2:s}),this.placeBigObject(t,!0),n=!0)}}},{key:"placeBigObject",value:function(t,e){for(var n=t.x1;n<=t.x2;n++)for(var r=t.y1;r<=t.y2;r++)this.map[n][r]=e?t:new s.a(t.id,n,r)}}]),t}();e.a=l}},["NHnr"]);
//# sourceMappingURL=app.757c509fa1ca32ce07d8.js.map